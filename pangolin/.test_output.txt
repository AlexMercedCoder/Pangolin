warning: unused import: `std::collections::HashMap`
 --> pangolin_core/src/business_metadata.rs:3:5
  |
3 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: `pangolin_core` (lib) generated 1 warning (run `cargo fix --lib -p pangolin_core` to apply 1 suggestion)
warning: unused import: `CatalogType`
 --> pangolin_store/src/memory.rs:7:14
  |
7 | ...g, CatalogType, N...
  |       ^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `BusinessMetadata`
  --> pangolin_store/src/memory.rs:16:40
   |
16 | ...::{BusinessMetadata, A...
   |       ^^^^^^^^^^^^^^^^

warning: unused import: `PermissionGrant`
 --> pangolin_store/src/postgres.rs:9:51
  |
9 | ...n, PermissionGrant, U...
  |       ^^^^^^^^^^^^^^^

warning: unused import: `DateTime`
  --> pangolin_store/src/postgres.rs:16:14
   |
16 | ...::{DateTime, U...
   |       ^^^^^^^^

warning: unused imports: `OAuthProvider` and `UserRole as CoreUserRole`
  --> pangolin_store/src/mongo.rs:13:33
   |
13 | ...r, UserRole as CoreUserRole, OAuthProvider};
   |       ^^^^^^^^^^^^^^^^^^^^^^^^  ^^^^^^^^^^^^^

warning: unused import: `PermissionGrant`
  --> pangolin_store/src/mongo.rs:14:51
   |
14 | ...n, PermissionGrant, U...
   |       ^^^^^^^^^^^^^^^

warning: unused import: `RequestStatus`
  --> pangolin_store/src/mongo.rs:15:55
   |
15 | ...t, RequestStatus};
   |       ^^^^^^^^^^^^^

warning: unused import: `PermissionGrant`
 --> pangolin_store/src/sqlite.rs:5:51
  |
5 | ...n, PermissionGrant, U...
  |       ^^^^^^^^^^^^^^^

warning: unused import: `DateTime`
  --> pangolin_store/src/sqlite.rs:12:14
   |
12 | ...::{DateTime, U...
   |       ^^^^^^^^

warning: unused import: `crate::memory::MemoryStore`
 --> pangolin_store/src/tests/multi_cloud.rs:1:5
  |
1 | use crate::memory::MemoryStore;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::CatalogStore`
 --> pangolin_store/src/tests/multi_cloud.rs:2:5
  |
2 | use crate::CatalogStore;
  |     ^^^^^^^^^^^^^^^^^^^

warning: unused imports: `Credentials` and `Signer`
 --> pangolin_store/src/tests/multi_cloud.rs:3:21
  |
3 | ...::{Signer, Credentials};
  |       ^^^^^^  ^^^^^^^^^^^

warning: unused imports: `Tenant`, `VendingStrategy`, and `Warehouse`
 --> pangolin_store/src/tests/multi_cloud.rs:4:28
  |
4 | ...::{Warehouse, VendingStrategy, Tenant};
  |       ^^^^^^^^^  ^^^^^^^^^^^^^^^  ^^^^^^

warning: unused import: `std::collections::HashMap`
 --> pangolin_store/src/tests/multi_cloud.rs:5:5
  |
5 | use std::collections::HashMap;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `uuid::Uuid`
 --> pangolin_store/src/tests/multi_cloud.rs:6:5
  |
6 | use uuid::Uuid;
  |     ^^^^^^^^^^

warning: unused imports: `AuditAction`, `AuditLogEntry`, `AuditLogFilter`, `AuditResult`, and `ResourceType`
   --> pangolin_store/src/tests/audit_tests.rs:1:28
    |
  1 | ...::{AuditAction, AuditLogEntry, AuditLogFilter, AuditResult, ResourceType};
    |       ^^^^^^^^^^^  ^^^^^^^^^^^^^  ^^^^^^^^^^^^^^  ^^^^^^^^^^^  ^^^^^^^^^^^^
    |
help: if this is a test module, consider adding a `#[cfg(test)]` to the containing module
   --> pangolin_store/src/tests/mod.rs:154:1
    |
154 | pub mod audit_tests;
    | ^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `CatalogStore` and `MemoryStore`
   --> pangolin_store/src/tests/audit_tests.rs:2:13
    |
  2 | ...::{CatalogStore, MemoryStore};
    |       ^^^^^^^^^^^^  ^^^^^^^^^^^
    |
help: if this is a test module, consider adding a `#[cfg(test)]` to the containing module
   --> pangolin_store/src/tests/mod.rs:154:1
    |
154 | pub mod audit_tests;
    | ^^^^^^^^^^^^^^^^^^^^

warning: unused import: `uuid::Uuid`
   --> pangolin_store/src/tests/audit_tests.rs:3:5
    |
  3 | use uuid::Uuid;
    |     ^^^^^^^^^^
    |
help: if this is a test module, consider adding a `#[cfg(test)]` to the containing module
   --> pangolin_store/src/tests/mod.rs:154:1
    |
154 | pub mod audit_tests;
    | ^^^^^^^^^^^^^^^^^^^^

warning: unused import: `chrono::Utc`
   --> pangolin_store/src/tests/audit_tests.rs:4:5
    |
  4 | use chrono::Utc;
    |     ^^^^^^^^^^^
    |
help: if this is a test module, consider adding a `#[cfg(test)]` to the containing module
   --> pangolin_store/src/tests/mod.rs:154:1
    |
154 | pub mod audit_tests;
    | ^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `Duration` and `Utc`
 --> pangolin_store/src/azure_signer.rs:2:14
  |
2 | ...::{Duration, Utc};
  |       ^^^^^^^^  ^^^

warning: unused import: `azure_storage_blobs::prelude::*`
 --> pangolin_store/src/azure_signer.rs:4:5
  |
4 | use azure_storage_blobs::prelude::*;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `DateTime` and `Utc`
 --> pangolin_store/src/gcp_signer.rs:2:14
  |
2 | ...::{DateTime, Utc};
  |       ^^^^^^^^  ^^^

warning: unused import: `std::sync::Arc`
 --> pangolin_store/src/object_store_factory.rs:4:5
  |
4 | use std::sync::Arc;
  |     ^^^^^^^^^^^^^^

warning: unused import: `TimeZone`
  --> pangolin_store/src/postgres.rs:16:29
   |
16 | ...c, TimeZone};
   |       ^^^^^^^^

warning: unused variable: `now`
    --> pangolin_store/src/memory.rs:1184:13
     |
1184 | ...et now = ...
     |       ^^^ help: if this is intentional, prefix it with an underscore: `_now`
     |
     = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `client`
  --> pangolin_store/src/gcp_signer.rs:52:13
   |
52 | ...et client = ...
   |       ^^^^^^ help: if this is intentional, prefix it with an underscore: `_client`

warning: value assigned to `param_count` is never read
    --> pangolin_store/src/postgres.rs:1168:17
     |
1168 | ...   param_count += 1;
     |       ^^^^^^^^^^^^^^^^
     |
     = help: maybe it is overwritten before being read?
     = note: `#[warn(unused_assignments)]` (part of `#[warn(unused)]`) on by default

warning: value assigned to `param_count` is never read
    --> pangolin_store/src/postgres.rs:1312:17
     |
1312 | ...   param_count += 1;
     |       ^^^^^^^^^^^^^^^^
     |
     = help: maybe it is overwritten before being read?

warning: unused variable: `tenant_id`
   --> pangolin_store/src/mongo.rs:178:38
    |
178 | ...f, tenant_id: U...
    |       ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_tenant_id`

warning: variable does not need to be mutable
   --> pangolin_store/src/mongo.rs:357:13
    |
357 | ...et mut filter = ...
    |       ----^^^^^^
    |       |
    |       help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: unused variable: `p`
   --> pangolin_store/src/mongo.rs:362:21
    |
362 | ...me(p) = pa...
    |       ^ help: if this is intentional, prefix it with an underscore: `_p`

warning: unused variable: `s3_nested`
    --> pangolin_store/src/mongo.rs:1662:18
     |
1662 | ...et s3_nested = ...
     |       ^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_s3_nested`

warning: field `signer` is never read
  --> pangolin_store/src/memory.rs:37:5
   |
22 | pub struct MemoryStore {
   |            ----------- field in this struct
...
37 |     signer: crate::signer...
   |     ^^^^^^
   |
   = note: `MemoryStore` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: field `key` is never read
  --> pangolin_store/src/signer.rs:41:5
   |
40 | pub struct SignerImpl {
   |            ---------- field in this struct
41 |     key: String,
   |     ^^^
   |
   = note: `SignerImpl` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: methods `revoke_token`, `is_token_revoked`, and `cleanup_expired_tokens` are never used
    --> pangolin_store/src/postgres.rs:1809:14
     |
1750 | impl PostgresStore {
     | ------------------ methods in this implementation
...
1809 |     async fn revoke_token(&self, token...
     |              ^^^^^^^^^^^^
...
1821 |     async fn is_token_revoked(&self, t...
     |              ^^^^^^^^^^^^^^^^
...
1831 |     async fn cleanup_expired_tokens(&s...
     |              ^^^^^^^^^^^^^^^^^^^^^^

warning: field `client` is never read
  --> pangolin_store/src/mongo.rs:27:5
   |
26 | pub struct MongoStore {
   |            ---------- field in this struct
27 |     client: Client,
   |     ^^^^^^
   |
   = note: `MongoStore` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: methods `catalogs`, `branches`, `tags`, `commits`, and `audit_logs` are never used
  --> pangolin_store/src/mongo.rs:63:8
   |
31 | impl MongoStore {
   | --------------- methods in this implementation
...
63 |     fn catalogs(&sel...
   |        ^^^^^^^^
...
75 |     fn branches(&sel...
   |        ^^^^^^^^
...
79 |     fn tags(&self) -...
   |        ^^^^
...
83 |     fn commits(&self...
   |        ^^^^^^^
...
87 |     fn audit_logs(&s...
   |        ^^^^^^^^^^

warning: methods `revoke_token`, `is_token_revoked`, and `cleanup_expired_tokens` are never used
    --> pangolin_store/src/sqlite.rs:2003:14
     |
1941 | impl SqliteStore {
     | ---------------- methods in this implementation
...
2003 |     async fn revoke_token(&self, token...
     |              ^^^^^^^^^^^^
...
2018 |     async fn is_token_revoked(&self, t...
     |              ^^^^^^^^^^^^^^^^
...
2029 |     async fn cleanup_expired_tokens(&s...
     |              ^^^^^^^^^^^^^^^^^^^^^^

warning: function `test_azure_path_parsing` is never used
   --> pangolin_store/src/tests/multi_cloud.rs:129:4
    |
129 | fn test_azure_path_parsing() {
    |    ^^^^^^^^^^^^^^^^^^^^^^^

warning: fields `account_name` and `account_key` are never read
 --> pangolin_store/src/azure_signer.rs:7:5
  |
6 | pub struct AzureSigner {
  |            ----------- fields in this struct
7 |     account_name: String,
  |     ^^^^^^^^^^^^
8 |     account_key: String,
  |     ^^^^^^^^^^^

warning: `pangolin_store` (lib) generated 40 warnings (run `cargo fix --lib -p pangolin_store` to apply 29 suggestions)
warning: unused import: `CatalogStore`
 --> pangolin_store/tests/store_integration.rs:2:58
  |
2 | ...e, CatalogStore,
  |       ^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: `pangolin_store` (test "store_integration") generated 1 warning (run `cargo fix --test "store_integration" -p pangolin_store` to apply 1 suggestion)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 0.32s
     Running tests/store_integration.rs (target/debug/deps/store_integration-9aac1c19d52cf927)

running 4 tests
test test_memory_store_regression ... ok
test test_sqlite_store_regression ... FAILED
test test_postgres_store_regression ... FAILED
test test_mongo_store_regression ... FAILED

failures:

---- test_sqlite_store_regression stdout ----

thread 'test_sqlite_store_regression' (314071) panicked at /home/alexmerced/development/personal/Personal/2026/pangolin/pangolin/pangolin_store/src/tests/mod.rs:51:90:
Failed to create asset: error returned from database: (code: 1) no such table: assets

Caused by:
    (code: 1) no such table: assets
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

---- test_postgres_store_regression stdout ----

thread 'test_postgres_store_regression' (314070) panicked at /home/alexmerced/development/personal/Personal/2026/pangolin/pangolin/pangolin_store/src/tests/mod.rs:51:90:
Failed to create asset: error returned from database: insert or update on table "assets" violates foreign key constraint "assets_tenant_id_fkey"

Caused by:
    insert or update on table "assets" violates foreign key constraint "assets_tenant_id_fkey"

---- test_mongo_store_regression stdout ----

thread 'test_mongo_store_regression' (314069) panicked at /home/alexmerced/development/personal/Personal/2026/pangolin/pangolin/pangolin_store/src/tests/mod.rs:56:5:
assertion `left == right` failed: Initial metadata location mismatch
  left: None
 right: Some("s3://bucket/path/v1.json")


failures:
    test_mongo_store_regression
    test_postgres_store_regression
    test_sqlite_store_regression

test result: FAILED. 1 passed; 3 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.87s

error: test failed, to rerun pass `-p pangolin_store --test store_integration`
